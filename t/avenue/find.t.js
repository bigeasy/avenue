#!/usr/bin/env node

require('proof')(1, function (ok, deepEqual) {
    var find = require('../..'), path = require('path')
    var found = find(path.join(__dirname, 'fixtures'), 'js')
    deepEqual(found,
[ { route: '/',
    script: 'index_.cgi.js',
    path: [],
    file: 'index_.cgi.js',
    name: 'index',
    extension: 'cgi' },
  { route: '//**:pathInfo',
    script: 'index_.cgi.js',
    path: [],
    file: 'index_.cgi.js',
    name: 'index',
    extension: 'cgi' },
  { route: '/pathed_before_exact',
    script: 'pathed_before_exact_.cgi.js',
    path: [ 'pathed_before_exact' ],
    file: 'pathed_before_exact_.cgi.js',
    name: 'pathed_before_exact',
    extension: 'cgi' },
  { route: '/pathed_before_exact/**:pathInfo',
    script: 'pathed_before_exact_.cgi.js',
    path: [ 'pathed_before_exact' ],
    file: 'pathed_before_exact_.cgi.js',
    name: 'pathed_before_exact',
    extension: 'cgi' },
  { route: '/pathed_before_exact',
    script: 'pathed_before_exact.cgi.js',
    path: [ 'pathed_before_exact' ],
    file: 'pathed_before_exact.cgi.js',
    name: 'pathed_before_exact',
    extension: 'cgi' },
  { route: '/pathed',
    script: 'pathed_.get.js',
    path: [ 'pathed' ],
    file: 'pathed_.get.js',
    name: 'pathed',
    extension: 'get' },
  { route: '/pathed/**:pathInfo',
    script: 'pathed_.get.js',
    path: [ 'pathed' ],
    file: 'pathed_.get.js',
    name: 'pathed',
    extension: 'get' },
  { route: '/',
    script: 'index.cgi.js',
    path: [],
    file: 'index.cgi.js',
    name: 'index',
    extension: 'cgi' },
  { route: '/exact',
    script: 'exact.js',
    path: [ 'exact' ],
    file: 'exact.js',
    name: 'exact',
    extension: '' },
  { route: '/directory',
    script: 'directory/index.get.js',
    path: [ 'directory' ],
    file: 'index.get.js',
    name: 'index',
    extension: 'get' },
  { route: '/*:param/edit',
    script: '%param/edit.js',
    path: [ '%param', 'edit' ],
    file: 'edit.js',
    name: 'edit',
    extension: '' } ], 'found')
    console.log(require('util').inspect(found, false, Infinity))
    console.log(require('util').inspect(found.map(function (step) {
        return step.script
    }), false, Infinity))
})
