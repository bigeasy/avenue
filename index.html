<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>Avenue</title>
<link href="http://fonts.googleapis.com/css?family=ABeeZee|Inconsolata|Karla:400,700|Oxygen+Mono" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy">
<link rel="stylesheet" type="text/css" href="css/syntax.css">
<link rel="stylesheet" type="text/css" href="css/avenue.css">
<body><a href="https://github.com/bigeasy/avenue/"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_gray_6d6d6d.png" alt="Fork me on GitHub"></a><div class="container">

<div class="unit welcome">
<h1>Avenue</h1>
</div>

<div class="unit description markdown"><p>Avenue is a file system based route generator that is used with
<a href="https://github.com/bigeasy/locate">Locate</a> to provide routing for the server
and the browser.</p>
<p>Avenue generates a route definition as JSON. Locate creates a routing function
from the JSON. Locate is a tiny library — 0.39k minified and gzipped
— that builds that one function.</p>
<p>All the routing you need with minimal overhead, decent performance, and an
intutive and expressive routing syntax.</p>
<h2>Installing</h2>
<p>Install Avenue from NPM. Add it to your <code>package.json</code>.</p>
<pre><code>$ npm install avenue</code></pre>
<p>Avenue is a server side module. It generates a route definition. The definition
is used client side and server side by Locate.</p>
<h2>Usage</h2>
<p>Avenue runs synchronously because reading the route definitions is part of the
setup of your application, just like <code>require</code>. <code>require</code> pulls in the modules
you need, while the <code>avenue</code> function builds the route definition from the
layout of your application folder.</p>
<pre><code class="lang-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">avenue</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;avenue&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">locate</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;locate&#39;</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">definition</span> <span class="o">=</span> <span class="nx">avenue</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;api&#39;</span><span class="p">),</span> <span class="s1">&#39;.cgi.js&#39;</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">locate</span><span class="p">(</span><span class="nx">definition</span><span class="p">)</span>
</pre></div>
</code></pre>
<h2>Diary</h2>
<p>It is tempting to have <code>/user-%user/profile.cgi.js</code> match <code>/user-alan/profile</code>,
but only if it is super cheap or free. I don&#39;t see myself ever using that. I do
see people abusing it: <code>/%product-%uuid-%color-%region</code>.</p>
</div>

</div></body>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-20388260-3', 'bigeasy.github.io');
ga('send', 'pageview');
</script>
</html>
